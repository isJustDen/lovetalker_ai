#core/utils.py
import random

def humanize_text(text: str) -> str:
	"""–î–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–Ω–¥–æ–º–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–º–∞"""
	# —à–∞–Ω—Å –æ–ø–µ—á–∞—Ç–∫–∏
	if random.random() < 0.01 and len(text) > 5:
		pos = random.randint(1, len(text) - 2)
		text = text[:pos] + text[pos + 1:] + text[pos] + text[pos + 2:]

	return text

def detect_style(user_message: str) -> str:
	"""–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è"""
	romantic_words = ["‚ù§Ô∏è", "–ª—é–±–ª—é", "–º–∏–ª–∞—è", "–¥–æ—Ä–æ–≥–æ–π", "üòò"]
	funny_words = ["üòÇ", "—à—É—Ç–∫–∞", "–∞—Ö–∞—Ö", "–ª–æ–ª", "üòè"]
	cold_words = ["–æ–∫", "—É–≥—É", "–ª–∞–¥–Ω–æ", "—è—Å–Ω–æ"]

	msg = user_message.lower()

	if any(w in msg for w in romantic_words):
		return '—Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–π, –∏–≥—Ä–∏—Å—Ç—ã–π, –∑–∞–∏–≥—Ä—ã–≤–∞—é—â–∏–π, —Å –Ω–æ—Ç–∫–∞–º–∏ —Å–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç–∏, –≤—ã–∑—ã–≤–∞—é—â–∏–π, –ø—Ä–æ–≤–æ—Ü–∏—Ä—É—é—â–∏–π'
	elif any(w in msg for w in funny_words):
		return '—à—É—Ç–æ—á–Ω—ã–π, –≤–µ—Å–µ–ª—ã–π, –∑–∞–±–∞–≤–Ω—ã–π, –º–∏–ª—ã–π'
	elif any(w in msg for w in cold_words):
		return '—Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–π, —Å–ø–æ–∫–æ–π–Ω—ã–π, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å —Ä–∞–º–∫–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ'
	else:
		return '–æ–±—ã—á–Ω—ã–π, –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥—è—â–∏–π –≤ —à—É—Ç–∫—É/—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –Ω–æ—Ç—É'